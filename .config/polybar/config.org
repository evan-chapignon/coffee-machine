#+AUTHOR: Jonas FACON
#+DATE: <2025-10-18 Sat>

* Polybar pour les nuls
Tout bureau qui se respecte doit avoir une belle et utile barre d'√©tat.

* Introduction
Ici vous retrouverez toute la configuration pour une barre simple et utile, mais aussi, pour les plus cr√©atifs d'entre vous, des modules que vous pourrez d√©cider d'utiliser ou non, plus ou moins utiles.

** Les couleurs
Dans la configuration ci-dessous, vous verrez souvent `=${colors.<couleur>}=`, ce qui permet d'adapter Polybar au th√®me que vous avez choisi.  
Pour plus d'informations sur les couleurs utilis√©es par th√®me, consultez les fichiers se trouvant dans [[file:themes/][themes/]].

Pour importer le th√®me :  
#+begin_src ini
include-file = $HOME/.config/polybar/themes/<flavor>.ini
#+end_src

** Les polices (fonts)
Nous utilisons la police *Iosevka Nerd* pour les ic√¥nes et *Cantarell* pour le reste. Pensez donc √† les installer si ce n'est pas d√©j√† fait.  
Un guide d'installation est disponible : [[file:../../README.org::#install-iosevka-font][Installation des polices]]

* La barre en tant que telle
#+begin_src ini
[bar/Newbie]
width = 100%
height = 30
background = ${colors.base}
foreground = ${colors.text}
line-size = 2
border-size = 0
padding-right = 4
padding-left = 4
padding-top = 3
module-margin = 3
separator = .
separator-foreground = ${colors.subtext0}
font-0 = Noto Sans:size=10;1
font-1 = Cantarell:style=Bold:size=12;2
font-2 = Iosevka Nerd Font:size=10;2
cursor-click = pointer
cursor-scroll = ns-resize
enable-ipc = true
#+end_src

Pour disposer vos modules sur la Polybar et choisir ce que vous voulez afficher, vous avez 3 options possibles :  
- √Ä gauche  
- Au centre  
- √Ä droite  

Voici notre s√©lection recommand√©e :  
#+begin_src ini
modules-left = xworkspaces xwindow
modules-center = date
modules-right = pulseaudio xkeyboard network battery
#+end_src

* Les Modules

** Xworkspaces
Ce module, ainsi que le suivant, est selon moi le plus utile et pratique.  
Il permet de savoir combien de workspaces sont utilis√©s ainsi que celui sur lequel vous vous trouvez.

#+begin_src ini
[module/xworkspaces]
type = internal/xworkspaces
label-active = %name%
label-active-background = ${colors.surface2}
label-active-underline = ${colors.lavender}
label-active-padding = 2
label-occupied = %name%
label-occupied-padding = 2
label-urgent = %name%
label-urgent-background = ${colors.red}
label-urgent-padding = 2
label-empty = %name%
label-empty-foreground = ${colors.subtext0}
label-empty-padding = 2
#+end_src

** Xwindow
Ce module vous indique dans quelle fen√™tre vous vous trouvez, tr√®s pratique quand vous commencez √† avoir un bon nombre de fen√™tres ouvertes sur votre bureau.

#+begin_src ini
[module/xwindow]
type = internal/xwindow
label = %title:0:60:...%
label-foreground = ${colors.flamingo}
#+end_src

** Xkeyboard
#+begin_src ini
[module/xkeyboard]
type = internal/xkeyboard
blacklist-0 = num lock
label-layout = %layout%
label-layout-foreground = ${colors.lavender}
label-indicator-padding = 2
label-indicator-margin = 1
label-indicator-foreground = ${colors.sky}
#+end_src

** Date
La classique date et heure.

#+begin_src ini
[module/date]
type = internal/date
date = %A, %d %B %Y %H:%M
label = %{T2} %date%%{T-}
#+end_src

** Pulseaudio
Petit module pour savoir si le son des haut-parleurs est activ√©.

#+begin_src ini
[module/pulseaudio]
type = internal/pulseaudio
format-volume = <label-volume>
label-volume = %{T3} Óò∏ %{T-} %percentage%%
label-muted = %{T3} Ôë¶ %{T-}
label-muted-foreground = ${colors.green}
label-volume-foreground = ${colors.green}
#+end_src

** Network
Module pour le r√©seau, essentiel pour les d√©butants qui ne savent pas forc√©ment s'ils sont connect√©s √† Internet.

#+begin_src ini
[module/network]
type = internal/network
interface = ${env:IFACE}
format-connected = <label-connected>
format-disconnected = <label-disconnected>
label-connected = %{T3} Û∞ñ© %{T-} %essid%
label-disconnected = %{T3} Û∞ñ™ %{T-} D√©connect√©
label-connected-foreground = ${colors.yellow}
label-disconnected-foreground = ${colors.peach}
#+end_src

** Battery
Module avec animation de charge.

#+begin_src ini
[module/battery]
type = internal/battery
battery = ${env:BAT}
adapter = ${env:ADP}
format-charging = <label-charging> <animation-charging> 
format-discharging = <label-discharging> <ramp-capacity>
format-full = <label-full>
label-charging = "‚ö° %percentage%% "
label-discharging = "%percentage%% "
label-full = "100% Û∞Åπ"
ramp-capacity-0 = Û∞Çé
ramp-capacity-1 = Û∞Å∫
ramp-capacity-2 = Û∞Åª
ramp-capacity-3 = Û∞Åº
ramp-capacity-4 = Û∞ÅΩ
ramp-capacity-5 = Û∞Åæ
ramp-capacity-6 = Û∞Åø
ramp-capacity-7 = Û∞ÇÄ
ramp-capacity-8 = Û∞ÇÅ
ramp-capacity-9 = Û∞ÇÇ
ramp-capacity-10 = Û∞ÇÇ
ramp-capacity-11 = Û∞Åπ
animation-charging-0 = Û∞Çé
animation-charging-1 = Û∞Å∫
animation-charging-2 = Û∞Åª
animation-charging-3 = Û∞Åº
animation-charging-4 = Û∞ÅΩ
animation-charging-5 = Û∞Åæ
animation-charging-6 = Û∞Åø
animation-charging-7 = Û∞ÇÄ
animation-charging-8 = Û∞ÇÅ
animation-charging-9 = Û∞ÇÇ
animation-charging-10 = Û∞ÇÇ
animation-charging-11 = Û∞Åπ
animation-charging-framerate = 500
#+end_src

* Modules pour les cr√©atifs

** Weather
Module m√©t√©o.

#+begin_src ini
[module/weather]
type = custom/script
exec = curl -s "https://wttr.in/?m&lang=fr&format=%C+%t+%w" 
interval = 600
#+end_src

** Music
Affiche les informations de la musique en cours sur Spotify.

#+begin_src ini
[module/music]
type = custom/script
exec = "playerctl metadata --format 'üéµ {{artist}} - {{title}}'"
label-foreground = ${colors.mauve}
#+end_src

** Temp
Pour surveiller la temp√©rature du PC et des composants.

#+begin_src ini
[module/temp]
type = custom/script
exec = "sensors | grep 'Package id 0:' | awk '{print $4}'"
label = üå° %output%
label-foreground = ${colors.blue}
#+end_src

** Git
Module qui montre l‚Äô√©tat du repo courant (branche, changements).

#+begin_src ini
[module/git]
type = custom/script
exec = "git -C /path/to/repo status -s | wc -l"
interval = 10
label = üåø %output% changes
label-foreground = ${colors.green}
#+end_src

* Ressources utiles
- Documentation officielle Polybar : https://polybar.github.io  
- Th√®mes Catppuccin : https://github.com/catppuccin/polybar  
- Polices Iosevka : https://github.com/be5invis/Iosevka  
- Guide d'installation des polices Nerd et des d√©pendances : [[file:../../README.org][ici]]
